(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1457:function(e,t,s){Promise.resolve().then(s.t.bind(s,8877,23)),Promise.resolve().then(s.bind(s,2035)),Promise.resolve().then(s.bind(s,3429)),Promise.resolve().then(s.bind(s,9175))},2035:function(e,t,s){"use strict";s.d(t,{default:function(){return f}});var n=s(7437),r=s(3429);function i(e){let{close:t}=e,{user:s,logout:i}=(0,r.a)();return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-8 transform transition-all ease-in-out duration-300",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Profile"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,n.jsx)("p",{className:"mt-1 p-2 w-full bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:null==s?void 0:s.email})]}),(null==s?void 0:s.displayName)&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,n.jsx)("p",{className:"mt-1 p-2 w-full bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:s.displayName})]})]}),(0,n.jsxs)("div",{className:"mt-8 space-y-3",children:[(0,n.jsx)("button",{onClick:()=>{i(),t()},className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Log Out"}),(0,n.jsx)("button",{onClick:t,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})]})]})})}var a=s(7138),o=s(2265),l=s(1942),c=s(5186),u=s(6463),d=s(8407),m=s(9842);function x(e){let{isOpen:t,onClose:s,initialMode:i}=e,[a,l]=(0,o.useState)(i),[x,f]=(0,o.useState)(""),[g,h]=(0,o.useState)(""),[p,b]=(0,o.useState)(null),y=(0,u.useRouter)(),{user:v}=(0,r.a)(),j=async e=>{e.preventDefault(),b(null);let t=(0,c.v0)();try{if("signin"===a)await (0,c.e5)(t,x,g);else{let e=(await (0,c.Xb)(t,x,g)).user;await (0,m.pl)((0,m.JU)(d.db,"users",e.uid),{uid:e.uid,email:e.email,displayName:e.displayName||""})}s(),y.push("/")}catch(e){b(e.message)}};return t?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-8 transform transition-all ease-in-out duration-300",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"signin"===a?"Welcome Back":"Create Account"}),(0,n.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:x,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-200 focus:border-pink-300 text-gray-900",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",value:g,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-200 focus:border-pink-300 text-gray-900",required:!0})]}),p&&(0,n.jsx)("div",{className:"text-red-500 text-sm",children:p}),(0,n.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-success hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"signin"===a?"Sign In":"Sign Up"})]}),(0,n.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["signin"===a?"Don't have an account? ":"Already have an account? ",(0,n.jsx)("button",{onClick:()=>l("signin"===a?"signup":"signin"),className:"font-medium text-success hover:text-success",children:"signin"===a?"Sign Up":"Sign In"})]}),(0,n.jsx)("button",{onClick:s,className:"mt-6 w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})]})}):null}function f(){let{user:e,logout:t}=(0,r.a)(),[s,c]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[m,f]=(0,o.useState)("signin"),g=e=>{f(e),d(!0)};return(0,n.jsxs)("nav",{className:"bg-white shadow-lg p-4 rounded-lg",children:[(0,n.jsxs)("div",{className:"container flex flex-wrap justify-between items-center mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(a.default,{href:"/",children:(0,n.jsx)(l.IHQ,{className:"text-4xl text-success hover:text-success transition duration-300 cursor-pointer animate-float"})}),(0,n.jsx)("span",{className:"text-2xl font-extrabold text-success transition duration-300",children:"Cat Chat"})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:e?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{onClick:()=>c(!0),className:"bg-success text-white hover:text-white transition duration-300 px-4 py-2 rounded-lg hover:bg-secondary",children:e.displayName||"Profile"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>g("signin"),className:"bg-success hover:bg-secondary px-4 py-2 rounded-lg transition duration-300",children:"Sign In"}),(0,n.jsx)("button",{onClick:()=>g("signup"),className:"bg-success hover:bg-secondary px-4 py-2 rounded-lg transition duration-300",children:"Sign Up"})]})})]}),s&&(0,n.jsx)(i,{close:()=>c(!1)}),u&&(0,n.jsx)(x,{isOpen:u,onClose:()=>d(!1),initialMode:m})]})}},3429:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return c},a:function(){return u}});var n=s(7437),r=s(2265),i=s(5186),a=s(8407),o=s(6463);let l=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[s,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),m=(0,o.useRouter)();(0,r.useEffect)(()=>{let e=(0,i.Aj)(a.I,e=>{if(e){let{uid:t,email:s,displayName:n}=e;c({uid:t,email:s,displayName:n||""}),m.push("/")}else c(null);d(!1)});return()=>e()},[m]);let x=async()=>{await (0,i.w7)(a.I),m.push("/")};return(0,n.jsx)(l.Provider,{value:{user:s,logout:x,loading:u},children:!u&&t})}let u=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9175:function(e,t,s){"use strict";s.d(t,{CatProvider:function(){return a},t:function(){return o}});var n=s(7437),r=s(2265);let i=(0,r.createContext)(void 0),a=e=>{let{children:t}=e,[s,a]=(0,r.useState)(null);return(0,n.jsx)(i.Provider,{value:{selectedCat:s,setSelectedCat:a},children:t})},o=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useCat must be used within a CatProvider");return e}},8407:function(e,t,s){"use strict";s.d(t,{I:function(){return o},db:function(){return l}});var n=s(5236),r=s(5186),i=s(9842);let a=(0,n.ZF)({apiKey:"AIzaSyDuv36J-p2SqwS-SkIvZ2RbYUDAeFpmW3Y",authDomain:"catchatapp-6f11c.firebaseapp.com",projectId:"catchatapp-6f11c",storageBucket:"catchatapp-6f11c.appspot.com",messagingSenderId:"939250469034",appId:"1:939250469034:web:64f3aed214182395c768d3"}),o=(0,r.v0)(a),l=(0,i.ad)(a)},8877:function(){}},function(e){e.O(0,[404,358,691,699,609,853,971,23,744],function(){return e(e.s=1457)}),_N_E=e.O()}]);